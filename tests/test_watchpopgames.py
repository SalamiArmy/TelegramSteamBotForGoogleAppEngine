# coding=utf-8

import ConfigParser

import telegram

import unittest
from google.appengine.ext import ndb
from google.appengine.ext import testbed

import commands.watchpopgames as watchpopgames

class TestWatchBitcoin(unittest.TestCase):
    def setUp(self):
        # First, create an instance of the Testbed class.
        self.testbed = testbed.Testbed()
        # Then activate the testbed, which prepares the service stubs for use.
        self.testbed.activate()
        # Next, declare which service stubs you want to use.
        self.testbed.init_datastore_v3_stub()
        self.testbed.init_memcache_stub()
        self.testbed.init_user_stub()
        # Clear ndb's in-context cache between tests.
        # This prevents data from leaking between tests.
        # Alternatively, you could disable caching by
        # using ndb.get_context().set_cache_policy(False)
        ndb.get_context().clear_cache()

    def test_watchtopgames_with_addremovedgames(self):
        keyConfig = ConfigParser.ConfigParser()
        keyConfig.read(["keys.ini", "..\keys.ini"])
        bot = telegram.Bot(keyConfig.get('Telegram', 'TELE_BOT_ID'))
        chatId = keyConfig.get('BotAdministration', 'ADMIN_PRIVATE_CHAT_ID')

        #for bot group:
        #chatId = -130436192

        watchpopgames.setWatchValue(chatId, 'PLAYERUNKNOWN\'S BATTLEGROUNDS\nDota 2\nCounter-Strike: Global Offensive\nH1Z1: King of the Kill\nTeam Fortress 2\nGrand Theft Auto V\nARK: Survival Evolved\nWarframe\nPAYDAY 2\nTom Clancy\'s Rainbow Six Siege\nFootball Manager 2017\nPath of Exile\nRust\nSid Meier\'s Civilization V\nXCOM 2\nRocket League\nPaladins\nGarry\'s Mod\nFallout 4\nBlack Desert Online\nArma 3\nTerraria\nSid Meier\'s Civilization VI\nMonaco\nUnturned\nThe Elder Scrolls V: Skyrim\nDead by Daylight\nThe Witcher 3: Wild Hunt\nThe Elder Scrolls V: Skyrim Special Edition\nTotal War: WARHAMMER\n7 Days to Die\nEuro Truck Simulator 2\nClicker Heroes\nCounter-Strike\nLeft 4 Dead 2\nThe Elder Scrolls Online: Tamriel Unlimited\nWallpaper Engine\nWar Thunder\nStardew Valley\nHearts of Iron IV\nFINAL FANTASY XIV Online\nEuropa Universalis IV\nShadowverse\nFactorio\nCities: Skylines\nDon\'t Starve Together\nRimWorld\nFootball Manager 2016\nAge of Empires II: HD Edition\nWorld of Tanks Blitz\nMount & Blade: Warband\nStellaris\nThe Walking Dead\nSMITE\nTotal War: ROME II - Emperor Edition\nDARK SOULS™ III\nBorderlands 2\nThe Binding of Isaac: Rebirth\nNBA 2K17\nFarming Simulator 17\nTom Clancy\'s The Division\nMirage: Arcane Warfare\nSpacewar\nRealm Grinder\nInfestation: The New Z\nCrossout\nTrove\nFallout: New Vegas\nCrusader Kings II\nLast Man Standing\nCounter-Strike: Source\nEVGA Precision XOC\nRobocraft\nTotal War: ATTILA\nElite Dangerous\nMOBIUS FINAL FANTASY\nBrawlhalla\nStarbound\nAdVenture Capitalist\nConan Exiles\nCompany of Heroes 2\nTotal War: SHOGUN 2\nTree of Savior (English Ver.)\nMedieval II: Total War\nHeroes & Generals\nNieR:Automata™\nFootball Manager 2015\nFallout Shelter\nDark and Light\nWarface\nEVE Online\nThe Sims(TM) 3\nTEKKEN 7\nMicrosoft Flight Simulator X: Steam Edition\nKilling Floor 2\nEmpire: Total War\nSpace Engineers\nZombidle: REMONSTERED\nNo Man\'s Sky\nDirty Bomb\nGeometry Dash\nCall of Duty: Black Ops III\nKerbal Space Program\nAbsolver\nThe Forest\nPro Evolution Soccer 2017\nMagic Duels\nCrusaders of the Lost Idols\nNeverwinter\nDon\'t Starve\nMETAL GEAR SOLID V: THE PHANTOM PAIN\nTERA\nOxygen Not Included\nSubnautica\nSlime Rancher\nCar Mechanic Simulator 2018\nMiddle-earth™: Shadow of Mordor™\nAmerican Truck Simulator\nShop Heroes\nDayZ\nKnight Online\nThe Long Dark\nPlanetSide 2\nXCOM: Enemy Unknown\nFishing Planet\nDarkest Dungeon\nGrim Dawn\nVEGA Conflict\nTree of Life\nF1 2017\nInsurgency\nIdle Champions of the Forgotten Realms\nFor Honor\nGems of War\nJust Survive\nDivinity: Original Sin 2\nTom Clancy\'s Ghost Recon® Wildlands\nCreativerse\nThe Elder Scrolls: Legends\nShakes and Fidget\nStreet Fighter V\nCPUCores :: Maximize Your FPS\nRomance of the Three Kingdoms 13\nThe Escapists 2\nEternal Card Game\nRealm of the Mad God\nMidas Gold Plus\nDARK SOULS™: Prepare To Die Edition\nCounter-Strike Nexon: Zombies\nPortal 2\nMinion Masters\nEmpyrion - Galactic Survival\nDOOM\nBanished\nDivinity: Original Sin Enhanced Edition\nFootball Manager 2014\nPlanet Coaster\nAge of Empires® III: Complete Collection\nRiders of Icarus\nRise of the Tomb Raider\nInsincere\nBattlerite\nSTAR WARS™ Empire at War: Gold Pack\nFriday the 13th: The Game\nTransport Fever\nDying Light\nTyranny\nCompany of Heroes (New Steam Version)\nTabletop Simulator\nLife is Strange™\nIdling to Rule the Gods\nDARK SOULS™ II: Scholar of the First Sin\nBeamNG.drive\nEnter the Gungeon\nJust Cause 3\nHuniePop\nSecret World Legends\nAssetto Corsa\nDead Cells\nPrison Architect\nNapoleon: Total War\nMotorsport Manager\nBlack Squad\nSonic Mania\nDishonored 2\nOgrest\nDragon\'s Dogma: Dark Arisen\nBlood Bowl 2\nFTL: Faster Than Light\nPrey\nSid Meier\'s Civilization IV: Beyond the Sword\nFreeStyle2: Street Basketball\nStar Trek Online\nRome: Total War\nSoda Dungeon\nCall of Duty: World at War\nUndertale\nThe Elder Scrolls IV: Oblivion \nAlchemyland \nTown of Salem\nCall of Duty: Black Ops II - Multiplayer\nSniper Elite 4\nWarhammer: End Times - Vermintide\ntheHunter™: Call of the Wild\nArma 2: Operation Arrowhead\nPillars of Eternity\nMabinogi\nHollow Knight\nSquad\nDishonored\nA Detective\'s Novel\nKick Speed : Global Operations ( KS : GO )\nMapleStory\nRising Storm 2: Vietnam\nFootball Manager Touch 2017\nGolf With Your Friends\nStronghold Kingdoms\nSource Filmmaker\nMOBIUS FINAL FANTASY\nCall of Duty: Modern Warfare 2 - Multiplayer\nMechWarrior Online\nLife is Feudal: Your Own\nNOBUNAGA\'S AMBITION: Souzou SengokuRisshiden\nProject CARS\nMen of War: Assault Squad 2\nMad Max\nWest of Loathing\nShellShock Live\nRPG Maker MV\nSaints Row IV\nBorderlands: The Pre-Sequel\nZula Europe\nLife is Strange: Before the Storm\nTrain Simulator\nTracks of Triumph: Industrial Zone\nGigantic\nMafia III\nThe Witcher 2: Assassins of Kings Enhanced Edition\nDungeon Fighter Online\nLost Castle\nUltimate General: Civil War\nCall of Duty: Modern Warfare 3 - Multiplayer\nBatman™: Arkham Knight\nTitan Quest Anniversary Edition\nDead Bits\nNBA 2K16\nSpintires\nScrap Mechanic\nCall of Duty: Infinite Warfare\nThe Witcher: Enhanced Edition\nPRO EVOLUTION SOCCER 2017 TRIAL EDITION\nFoxhole\nSid Meier\'s Civilization III: Complete\nSid Meier\'s Civilization: Beyond Earth\nFarming Simulator 15\nDungeon Defenders II\nWolfenstein: The New Order\nDRAGON BALL XENOVERSE 2\nSaints Row: The Third\nDigimon Masters Online\nThe Lord of the Rings Online™\nInvasion: Brain Craving\nAge of Mythology: Extended Edition\nTom Clancy\'s Splinter Cell Blacklist\nHunieCam Studio\nTorchlight II\nWargame: Red Dragon\nMiscreated\nHalf-Life 2\nGrand Theft Auto IV\nRAID: World War II Beta\nAge of Wonders III\nMetin2\nNo More Room in Hell\nThis War of Mine\nAPB Reloaded\nRocksmith® 2014 Edition - Remastered\nSniper Ghost Warrior 3\nAttempt[42]\nTracks of Triumph: Good Old Times\nSakura Dungeon\nNobunaga\'s Ambition: Souzou with Power Up Kit\nKilling Floor\nMafia II\nAssassin\'s Creed IV Black Flag\nSins of a Solar Empire: Rebellion\nFootball Manager 2012\nShadow Warrior\nWatch Dogs 2\nGrand Theft Auto: San Andreas\nFar Cry 4\nTomb Raider\nNARUTO SHIPPUDEN: Ultimate Ninja STORM 4\nHome Behind\nBorderless Gaming\nBioShock Infinite\nQuake Champions\nWarhammer 40,000: Inquisitor - Martyr\nSouth Park™: The Stick of Truth™\nHeroes of Might & Magic III - HD Edition\nTwin Saga\nSTAR WARS™ Knights of the Old Republic™ II: The Sith Lords™\nArt of War: Red Tides\nTime Clickers\nDeus Ex: Mankind Divided™\nPro Cycling Manager 2017\nFootball Manager 2013\nMarvel Puzzle Quest\nHITMAN™\nAkin\nThe Isle\nFaeria\nTransformice\nMarvel Heroes Omega\nBlender 2.78\nTERA\nBattlestar Galactica Deadlock\nChivalry: Medieval Warfare\nCrush Crush\nOur Wonderful World\nBloons TD Battles\nBorderlands\nSpore\nTropico 5\nAura Kingdom\nOut of the Park Baseball 18\nZombie Army Trilogy\nCounter-Strike: Condition Zero\nStar Trek Timelines\ntheHunter Classic\nDark Project\nDC Universe Online\nRIFT\nGalactic Civilizations III\nWAKFU\nVictoria II\nRise of Nations: Extended Edition\nOutrage\nCossacks 3\nEndless Space 2\nFINAL FANTASY X/X-2 HD Remaster\nMy Summer Car\nAwesomenauts\nPlants vs. Zombies: Game of the Year\nFINAL FANTASY VII\nRising Storm/Red Orchestra 2 Multiplayer\nMortal Kombat X\nThe Safeguard Garrison 2\nCall of Duty: Modern Warfare 3 - Dedicated Server\nArgo\nWarhammer 40,000: Dawn of War - Soulstorm\nCandy Machine\nRagnarok Clicker\nDay of Infamy\nSid Meier\'s Civilization IV\nPortal Knights\nFrom The Depths\n仙剑奇侠传四-Chinese Paladin 4\nEight Mini Racers\nVindictus\nFar Cry® 3\nDragon Age: Origins - Ultimate Edition\nAION Free-to-Play\nAseprite\nFaceRig\nComedy Night\nResident Evil 6 / Biohazard 6\nDefiance\nNorthgard\nOMSI 2\nProject Zomboid\nMaster of Orion\nPulseCharge\nCall of Duty: Modern Warfare 3\nSurvarium\nTHE KING OF FIGHTERS XIII STEAM EDITION\nBaldur\'s Gate: Enhanced Edition\nCall of Duty: Modern Warfare 2\nBrilliant Bob\nRage Parking Simulator 2016\nThe Elder Scrolls III: Morrowind\nBesiege\nAssassin\'s Creed Syndicate\nSTAR WARS™: Knights of the Old Republic™\nEndless Legend\nAlien: Isolation\nCall of Duty: Black Ops - Multiplayer\nHalf-Life\nBusiness Tour - Online Multiplayer Board Game\nNaval Action\nNext Day: Survival\nS.K.I.L.L. - Special Force 2\nFor The King\nDuck Game\nFINAL FANTASY XIV Online Free Trial\nEverlasting Summer\nAmerica\'s Army: Proving Grounds\nTales of Berseria\nKenshi\nTurbo Pug 3D\nFlight to Eternity\n侠客风云传(Tale of Wuxia)\nGood Archer\nRPG Maker VX Ace\nForge of Gods (RPG)\nAlchemist\nF1 2016\nBloons TD5\nFINAL FANTASY VIII\nKingdoms of Amalur: Reckoning™\nPoly Bridge\nASTA Online\nSpelunky\nASTRONEER\nThe Binding of Isaac\n100% Orange Juice\nPanzer Corps\nSTAR WARS™ Battlefront™ II\nBatman: Arkham City GOTY\nPrototype\nWarhammer 40,000: Dawn of War III\nCastle Crashers\nCraft The World\nFallout: New Vegas RU\nDay of Defeat: Source\nThe Legend of Heroes: Trails of Cold Steel\nSimCity 4 Deluxe\nAtom Fishing II\nMordheim: City of the Damned\nFallout 3 - Game of the Year Edition\nBaldur\'s Gate II: Enhanced Edition\nKingdoms and Castles\nReset 1-1\nArmello\nDanganronpa 2: Goodbye Despair\nBattle Brothers\nOrcs Must Die! Unchained\nHurtworld\nState of Anarchy: Master of Mayhem\nYou Need A Budget 4 (YNAB)\nSpiral Knights\nThe Evil Within\nPROTOTYPE 2\nEnergy Balance\nQuake Live\nSkyforge\nJust Cause 2\nMount & Blade: With Fire and Sword\nPixel Worlds\nCar Mechanic Simulator 2015\nSudden Strike 4\nStar Conflict\nStronghold Crusader HD\nAtlas Reactor\nCall of Duty: Black Ops\nYu-Gi-Oh! Legacy of the Duelist\nGrind Zones\nAssassin\'s Creed Unity\nWinning Post 8 2017\nX-Plane 11\nFootball Manager 2017 Editor\nThe Last Photon\nRollerCoaster Tycoon 3: Platinum!\nAlien Swarm: Reactive Drop\nAtonement: Scourge of Time\nEverQuest Free-to-Play\nState of Anarchy\nEvolve Stage 2\nAdVenture Communist\nAnimation Throwdown: The Quest for Cards\nTERA\nMetro: Last Light Redux\nSniper Elite 3\nBattleBlock Theater\nPlanetbase')
        watchpopgames.run(bot, chatId, 'SalamiArmy')
